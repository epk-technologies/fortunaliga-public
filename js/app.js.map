{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@superkoders/sk-tools/src/array.js","webpack:///./node_modules/@superkoders/sk-tools/src/emmiter.js","webpack:///./node_modules/@superkoders/sk-tools/src/event.js","webpack:///./node_modules/@superkoders/sk-tools/src/function.js","webpack:///./node_modules/@superkoders/sk-tools/src/loadScript.js","webpack:///./node_modules/@superkoders/sk-tools/src/loadYoutube.js","webpack:///./node_modules/@superkoders/sk-tools/src/logic.js","webpack:///./node_modules/@superkoders/sk-tools/src/selector.js","webpack:///./node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","webpack:///./node_modules/focus-trap/dist/focus-trap.esm.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/tabbable/dist/index.esm.js","webpack:///./src/js/app.js","webpack:///./src/js/components/SKModal.ts","webpack:///./src/js/components/constants.ts","webpack:///./src/js/components/menuMain.js","webpack:///./src/js/components/modal.js","webpack:///./src/js/components/modalPlugins/emmitModalAction.js","webpack:///./src/js/components/video.js","webpack:///./src/js/tools/loadVimeoAPI.ts"],"names":["first","arr","last","length","clone","slice","call","map","curry","fn","flatten","reduce","acc","cur","concat","join","delimiter","inArray","value","indexOf","arrayOrEmpty","groupBy","prop","emptyBySize","size","Array","apply","create","target","subscribers","withEmmiter","on","type","isFunction","one","_event_once","off","Object","keys","forEach","filter","fnI","is","trigger","data","context","bind","log","console","global","delegate","selector","callback","event","node","query","currentTarget","find","contains","handler","addEventListener","removeEventListener","f","args","next","pipe","fns","x","v","tap","arg","invoke","fnName","obj","debounce","wait","func","timeout","later","clearTimeout","setTimeout","cache","src","Promise","resolve","reject","s","document","createElement","async","onload","onerror","head","appendChild","api","window","onYouTubeIframeAPIReady","YT","loadScript","catch","a","b","isObject","isNil","isWindow","byID","getElementById","byName","getElementsByName","querySelectorAll","matches","componentsload","modal","video","components","menuMain","App","run","targetNode","body","component","init","element","destroy","initComponent","modals","loadContent","url","fetch","then","response","text","loadImage","img","Image","Error","draggable","getIframe","loadHandler","isVideo","iframe","warn","allowFullscreen","scrolling","allow","frameBorder","toggleScrollbarGap","show","bodyStyle","style","from","elem","marginRight","paddingRight","defaultOpts","closeSelector","ModalClasses","CLOSE","parentElement","infinite","closeIcon","prevIcon","nextIcon","loadIcon","removeOnClose","buildStructure","headerTpl","options","titleTpl","descTpl","prevTpl","PREV_TRIGGER","nextTpl","NEXT_TRIGGER","loaderTpl","navTpl","items","_item","index","NAV_TRIGGER","imageLoader","fetchLoader","createModal","id","currentIndex","currentItems","ytAPI","vimeoAPI","dragX","structurePrepared","modalFragments","slides","isOpened","emmiter","modalFocusTrap","createFocusTrap","scrollLockOptions","allowTouchMove","el","isSameNode","reserveScrollBarGap","prepareStructure","innerHTML","setAttribute","customWrapperClass","header","titleElem","descElem","content","prevElem","nextElem","navElem","loader","bg","className","HEADER","TITLE","DESC","CONTENT","PREV","NEXT","NAV","LOADER","BG","closeOnBgClick","getSlides","hideNav","close","prev","nav","handleKeyDown","onTouchStart","onTouchEnd","onModalOpen","onModalClose","onModalContentLoaded","onModalSlideChanged","slide","SLIDE","iframeLoadHandler","resolveMedium","item","medium","isArray","mediaRegex","anchor","test","ModalMedium","ELEMENT","image","IMAGE","VIDEO","youtube","YOUTUBE","vimeo","VIMEO","IFRAME","getContent","player","getAttribute","imageSources","wrapperElement","source","height","innerHeight","classList","add","contentElement","querySelector","wrapElement","FETCH","contentFetch","formatMatch","match","format","videoSrc","urlMatcher","iframeUrl","loadYoutube","Player","loadVimeoAPI","goTo","title","desc","remove","i","playVideo","play","pauseVideo","pause","navItem","activate","page","prevIndex","nextIndex","dataset","modalIndex","parseInt","open","preventDefault","disableBodyScroll","deactivate","enableBodyScroll","redraw","newItems","skipGoTo","plugins","plugin","reInitOnRedraw","getIndex","keyCode","KeyCodes","ARR_LEFT","ARR_UP","ARR_RIGHT","ARR_DOWN","ESC","changedTouches","clientX","dx","Math","abs","clickHandler","splice","modalInstance","fragments","methods","initModal","opts","modalItems","elements","modalSelector","JSON","parse","galleries","gallery","push","modalOptions","targetMenu","menuOpenStatus","menuOpen","emmitModalAction","_event","action","videos","elementId","videoUrl","videoPoster","poster","videoTitle","hls","settings","licenseKey","width","skin","quickRewind","sharing","contentMetadata","rmp","RadiantMP","Vimeo"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,mC;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;ACfA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACJA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;;;AChBA,iBAAiB,mBAAO,CAAC,0EAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AA0BzD,QAA1B,CAAD,CAAZ;AACA,CAFM;AAIA,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAACJ,QAAD,EAAkC;AAAA,MAAvBN,OAAuB,uEAAb0C,QAAa;AACtD,SAAOnF,oDAAK,CAACyC,OAAO,CAACgE,gBAAR,CAAyB1D,QAAzB,CAAD,CAAZ;AACA,CAFM;AAIA,IAAMT,EAAE,GAAG,SAALA,EAAK,CAACY,IAAD,EAAOH,QAAP,EAAoB;AACrC,SAAOG,IAAI,CAACwD,OAAL,CAAa3D,QAAb,CAAP;AACA,CAFM,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA,kCAAkC,0BAA0B,0CAA0C,gBAAgB,OAAO,kBAAkB,EAAE,aAAa,EAAE,OAAO,wBAAwB,EAAE;;AAEjM;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA,+EAA+E,iBAAiB;AAChG;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iFAAiF,iBAAiB;AAClG;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,oFAAoF,iBAAiB;AACrG;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,oFAAoF,iBAAiB;AACrG;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;AClNA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;;AAE9B,wCAAwC;AACxC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA,wDAAwD,4DAAW;AACnE,OAAO;AACP;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA,KAAK;;;AAGL;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,yDAAQ;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAE2B;AAC3B;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;;AAE7D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA,GAAG;AACH;AACA,uDAAuD;AACvD,sBAAsB;AACtB;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AAC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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/app.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","import {curry} from './function';\n\nexport const first = (arr) => {\n\treturn arr[0] || null;\n};\n\nexport const last = (arr) => {\n\treturn arr[arr.length - 1] || null;\n};\n\nexport const length = (arr) => {\n\treturn arr.length;\n};\n\nexport const clone = (arr) => {\n\treturn [].slice.call(arr);\n};\n\nexport const map = curry((fn, arr) => {\n\treturn arr.map(fn);\n});\n\nexport const flatten = (arr) => {\n\treturn arr.reduce((acc, cur) => acc.concat(cur), []);\n};\n\nexport const join = curry((delimiter, arr) => {\n\treturn arr.join(delimiter);\n});\n\n\nexport const inArray = (value, arr) => {\n\treturn arr.indexOf(value) > -1;\n};\n\nexport const arrayOrEmpty = (arr) => {\n\treturn arr || [];\n};\n\nexport const groupBy = curry((prop, arr) => {\n\treturn arr.reduce((acc, cur) => {\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[cur[prop]]: cur,\n\t\t};\n\t}, {});\n});\n\nexport const emptyBySize = (size) => {\n\treturn Array.apply(null, Array(size));\n};\n\n","import { inArray, arrayOrEmpty } from './array';\nimport { is, isFunction } from './logic';\n\nexport const create = (target) => {\n\tlet subscribers = {};\n\n\tconst withEmmiter = {\n\t\t...target,\n\t\ton(type, fn) {\n\t\t\tlet arr = arrayOrEmpty(subscribers[type]);\n\n\t\t\tif (!inArray(fn, arr) && isFunction(fn)) {\n\t\t\t\tsubscribers[type] = [...arr, fn];\n\t\t\t}\n\n\t\t\treturn withEmmiter;\n\t\t},\n\t\tone(type, fn) {\n\t\t\tfn._event_once = true;\n\t\t\treturn withEmmiter.on(type, fn);\n\t\t},\n\t\toff(type, fn) {\n\t\t\tif (type == null && fn == null) {\n\t\t\t\tObject.keys(subscribers).forEach((type) => withEmmiter.off(type));\n\t\t\t}\n\n\t\t\tif (!type || !subscribers[type]) return withEmmiter;\n\n\t\t\tsubscribers[type] = subscribers[type].filter((fnI) => {\n\t\t\t\t// console.log(is(fn, fnI))\n\t\t\t\tif (!fn || is(fn, fnI)) {\n\t\t\t\t\tdelete fnI._event_once;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tif (!subscribers[type].length) delete subscribers[type];\n\n\t\t\treturn withEmmiter;\n\t\t},\n\t\ttrigger(type, data, context = null) {\n\t\t\t(arrayOrEmpty(subscribers[type]))\n\t\t\t\t.filter((fn) => {\n\t\t\t\t\tfn.call(context, {type}, data);\n\t\t\t\t\treturn fn._event_once;\n\t\t\t\t})\n\t\t\t\t.forEach(withEmmiter.off.bind(withEmmiter, type));\n\n\t\t\treturn withEmmiter;\n\t\t},\n\t\tlog() {\n\t\t\tconsole.log(subscribers);\n\t\t\treturn withEmmiter;\n\t\t},\n\t};\n\n\treturn withEmmiter;\n};\n\nconst global = create({});\n\nexport const on = global.on;\nexport const one = global.one;\nexport const off = global.off;\nexport const trigger = global.trigger;\nexport const log = global.log;\n","import { query } from './selector';\n\nexport const delegate = (selector, callback) => (event) => {\n\tconst node = query(selector, event.currentTarget)\n\t\t\t.find((node) => node.contains(event.target));\n\n\tif (node != null) {\n\t\tcallback(event, node);\n\t}\n\n\treturn event;\n};\n\nexport const on = (node, type, handler) => {\n\tnode.addEventListener(type, handler, false);\n};\n\nexport const off = (node, type, handler) => {\n\tnode.removeEventListener(type, handler);\n};\n","export const curry = (f, ...args) => {\n\tif (args.length >= f.length) return f(...args);\n\treturn (...next) => curry(f.bind(f, ...args), ...next);\n};\n\nexport const pipe = (...fns) => x => fns.reduce((v, f) => f(v), x);\n\nexport const tap = curry((fn, arg) => {\n\tfn(arg);\n\treturn arg;\n});\n\nexport const invoke = curry((fnName, args, obj) => {\n\treturn obj[fnName].apply(obj, args);\n});\n\n\nexport const debounce = curry((wait, func) => {\n\tlet timeout;\n\treturn (...args) => {\n\t\tvar later = () => {\n\t\t\ttimeout = null;\n\t\t\tfunc(...args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t};\n});\n","let cache = {};\n\nexport default (src) => {\n\tif (cache[src]) return cache[src];\n\n\tcache[src] = new Promise((resolve, reject) => {\n\t\tconst s = document.createElement('script');\n\t\ts.type = 'text/javascript';\n\t\ts.async = true;\n\t\ts.onload = resolve;\n\t\ts.onerror = reject;\n\t\ts.src = src;\n\t\tdocument.head.appendChild(s);\n\t});\n\n\treturn cache[src];\n};\n","import loadScript from './loadScript';\n\nlet api = null;\n\n\nexport default () => {\n\tif (api) return api;\n\n\tapi = new Promise((resolve, reject) => {\n\n\t\twindow.onYouTubeIframeAPIReady = () => {\n\t\t\tresolve(window.YT);\n\t\t\tdelete window.onYouTubeIframeAPIReady;\n\t\t};\n\n\t\tloadScript('//www.youtube.com/player_api')\n\t\t\t.catch(reject);\n\t});\n\n\treturn api;\n};\n","export const is = (a, b) => {\n\treturn a === b ?\n\t(a !== 0 || 1 / a !== 1 / b) :\n\t(a !== a && b !== b);\n};\n\nexport const isFunction = (fn) => {\n\treturn is(typeof fn, 'function');\n};\n\nexport const isObject = (obj) => {\n\treturn obj === Object(obj);\n};\n\nexport const isNil = (x) => {\n\treturn x == null;\n};\n\nexport const isWindow = (node) => {\n\treturn node != null && node === node.window;\n}\n","import { clone } from './array';\n\nexport const byID = (selector, context = document) => {\n\treturn [context.getElementById(selector)];\n};\n\nexport const byName = (selector, context = document) => {\n\treturn clone(context.getElementsByName(selector));\n};\n\nexport const query = (selector, context = document) => {\n\treturn clone(context.querySelectorAll(selector));\n};\n\nexport const is = (node, selector) => {\n\treturn node.matches(selector);\n};\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","/*!\n* focus-trap 6.1.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { isFocusable, tabbable } from 'tabbable';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar activeFocusDelay;\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nfunction createFocusTrap(element, userOptions) {\n  var doc = document;\n  var container = typeof element === 'string' ? doc.querySelector(element) : element;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n    updateTabbableNodes();\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n    var onActivate = activateOptions && activateOptions.onActivate ? activateOptions.onActivate : config.onActivate;\n\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n    clearTimeout(activeFocusDelay);\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n    activeFocusTraps.deactivateTrap(trap);\n    var onDeactivate = deactivateOptions && deactivateOptions.onDeactivate !== undefined ? deactivateOptions.onDeactivate : config.onDeactivate;\n\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus = deactivateOptions && deactivateOptions.returnFocus !== undefined ? deactivateOptions.returnFocus : config.returnFocusOnDeactivate;\n\n    if (returnFocus) {\n      delay(function () {\n        tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    updateTabbableNodes();\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return; // There can be only one listening focus trap at a time\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    activeFocusDelay = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active) return;\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n\n    if (!optionValue) {\n      return null;\n    }\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  }\n\n  function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus');\n    return node ? node : previousActiveElement;\n  } // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (config.clickOutsideDeactivates) {\n      // immediately deactivate the trap\n      deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (config.allowOutsideClick && (typeof config.allowOutsideClick === 'boolean' ? config.allowOutsideClick : config.allowOutsideClick(e))) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  } // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  } // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  function checkTab(e) {\n    updateTabbableNodes();\n\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n\n    if (config.allowOutsideClick && (typeof config.allowOutsideClick === 'boolean' ? config.allowOutsideClick : config.allowOutsideClick(e))) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode = tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/*!\n* tabbable 5.1.4\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nvar isContentEditable = function isContentEditable(node) {\n  return node.contentEditable === 'true';\n};\n\nvar getTabindex = function getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  } // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n\n  if (isContentEditable(node)) {\n    return 0;\n  } // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n\n\n  if ((node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || node.ownerDocument;\n  var radioSet = radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isHidden = function isHidden(node) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  while (node) {\n    if (getComputedStyle(node).display === 'none') {\n      return true;\n    }\n\n    node = node.parentElement;\n  }\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node) ||\n  /* For a details element with a summary, the summary element gets the focused  */\n  isDetailsWithSummary(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(node) {\n  if (!isNodeMatchingSelectorFocusable(node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable);\n  candidates.forEach(function (candidate, i) {\n    var candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  });\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable);\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","import { create } from '@superkoders/sk-tools/src/emmiter';\n// import './tools/svg4everybody';\n// import { media } from './tools/MQ';\n\n// Components\nimport * as menuMain from './components/menuMain';\nimport * as modal from './components/modal';\nimport * as video from './components/video';\n\n// content load components\nconst componentsload = [modal, video];\n\n// once delegated components\nconst components = [menuMain].concat(componentsload);\n\nwindow.App = create({\n\trun() {\n\t\tconst targetNode = document.body;\n\t\tcomponents.forEach((component) => component.init(targetNode));\n\t\tthis.on('contentload', (event, { element }) => {\n\t\t\tcomponentsload.forEach((component) => component.init(element));\n\t\t});\n\t\tthis.on('contentunload', (event, { element }) => {\n\t\t\tcomponentsload.forEach((component) => component.destroy(element));\n\t\t});\n\t},\n\n\tinitComponent(component) {\n\t\treturn component.init();\n\t},\n});\n","import { createFocusTrap } from 'focus-trap';\nimport { disableBodyScroll, enableBodyScroll, BodyScrollOptions } from 'body-scroll-lock';\nimport { on, delegate, off } from '@superkoders/sk-tools/src/event';\nimport { create } from '@superkoders/sk-tools/src/emmiter';\nimport loadYoutube from '@superkoders/sk-tools/src/loadYoutube';\nimport { buildStructure, ModalClasses, modalSelector, ModalMedium, mediaRegex, KeyCodes } from './constants';\nimport loadVimeoAPI from '../tools/loadVimeoAPI';\n\nexport interface ISKModalOptions {\n\tcontext?: Document | Element;\n\tparentElement?: Element;\n\tcloseSelector?: string;\n\tcustomWrapperClass?: string;\n\tinfinite?: boolean;\n\tcloseOnBgClick?: boolean;\n\tplugins?: ISKModalPlugin[];\n\thideNav?: boolean;\n\tcustomData?: any;\n\tcloseIcon?: string;\n\tprevIcon?: string;\n\tnextIcon?: string;\n\tloadIcon?: string;\n\tremoveOnClose?: boolean;\n\tbuildStructure?: (modal: Element, fragments: IModalFragments) => void;\n\theaderTpl?: (options?: ISKModalOptions) => string;\n\ttitleTpl?: (text: string) => string;\n\tdescTpl?: (text: string) => string;\n\tprevTpl?: (options?: ISKModalOptions) => string;\n\tnextTpl?: (options?: ISKModalOptions) => string;\n\tnavTpl?: (items: ISKModalItem[]) => string;\n\tloaderTpl?: (options?: ISKModalOptions) => string;\n\timageLoader?: (src: string) => Promise<Node>;\n\tfetchLoader?: (url: string) => Promise<string>;\n\tonModalOpen?: (event, data) => void;\n\tonModalClose?: (event, data) => void;\n\tonModalContentLoaded?: (event, data) => void;\n\tonModalSlideChanged?: (event, data) => void;\n}\n\nexport interface ISKModalGallery {\n\t[key: string]: ISKModalItem[];\n}\n\nexport interface ISKModalPlugin {\n\tinit: (modal: ISKModal) => void;\n\tdestroy?: (modal: ISKModal) => void;\n\treInitOnRedraw?: boolean;\n}\n\nexport interface ISKModalItem {\n\telement?: Element;\n\turl?: string | string[];\n\tmedium?: ModalMedium;\n\ttitle?: string;\n\tdesc?: string;\n\tgallery?: string;\n\tplayer?: any;\n\tclickHandler?: (event: MouseEvent) => void;\n\t[key: string]: string | number | Element | string[] | ((event: MouseEvent) => void);\n}\n\nexport interface IModalFragments {\n\theader: Element;\n\ttitleElem: Element;\n\tdescElem: Element;\n\tcontent: Element;\n\tprevElem: Element;\n\tnextElem: Element;\n\tnavElem: Element;\n\tloader: Element;\n\tbg: Element;\n}\n\ninterface ISKModalPublicMethods {\n\topen: (ndex: number, event?: MouseEvent) => void;\n\tclose: (event?: MouseEvent) => void;\n\tprev: () => void;\n\tnext: () => void;\n\tgoTo: (index: number) => void;\n\tredraw: (items: ISKModalItem[]) => void;\n\tgetIndex: () => number;\n\tdestroy: () => void;\n}\n\nexport interface ISKModal {\n\toptions: ISKModalOptions;\n\tcontext: Document | Element;\n\telement: Element;\n\titems: ISKModalItem[];\n\tmethods: ISKModalPublicMethods;\n\temmiter: any;\n\tfragments: IModalFragments;\n\tisOpened: boolean;\n}\n\nlet modals: ISKModal[] = [];\n\nconst loadContent = async (url: string): Promise<string> => await fetch(url).then((response) => response.text());\n\nconst loadImage = (src: string): Promise<HTMLImageElement> => {\n\treturn new Promise((resolve, reject) => {\n\t\tlet img = new Image();\n\t\timg.addEventListener('load', () => resolve(img));\n\t\timg.addEventListener('error', () => {\n\t\t\treject(new Error(`Failed to load image with src: ${src}`));\n\t\t});\n\t\timg.draggable = false;\n\t\timg.src = src;\n\t});\n}\n\nconst getIframe = (src: string, loadHandler: () => void, isVideo: boolean = false): HTMLIFrameElement => {\n\tlet iframe = document.createElement('iframe');\n\tiframe.addEventListener('load', () => loadHandler());\n\tiframe.addEventListener('error', () => {\n\t\tloadHandler();\n\t\tconsole.warn(`Failed to load iframe with src: ${src}`);\n\t});\n\tiframe.allowFullscreen = true;\n\tiframe.scrolling = isVideo ? 'no' : 'auto';\n\tiframe.allow = 'autoplay; fullscreen';\n\tiframe.frameBorder = '0';\n\tiframe.src = src;\n\n\treturn iframe;\n}\n\n// force scrollbar gap for fixed elements\nconst toggleScrollbarGap = (show: boolean = true) => {\n\tconst bodyStyle = document.body.style;\n\tArray.from(document.querySelectorAll('[data-scroll-lock-keep-gap]')).forEach((elem) => {\n\t\t(elem as HTMLElement).style.marginRight = show ? bodyStyle.paddingRight : '';\n\t});\n}\n\nconst defaultOpts: ISKModalOptions = {\n\tcontext: document,\n\tcloseSelector: `.${ModalClasses.CLOSE}`,\n\tparentElement: document.body,\n\tinfinite: false,\n\tcloseIcon: '&#10005;',\n\tprevIcon: '&#x02190;',\n\tnextIcon: '&#x02192;',\n\tloadIcon: '<span class=\"b-modal__loader-icon\"><span>&#x021BA;</span></span>',\n\tremoveOnClose: false,\n\tbuildStructure,\n\theaderTpl: (options) => ``,\n\ttitleTpl: (text: string) => `<h3>${text}</h3>`,\n\tdescTpl: (text: string) => `<p>${text}<p>`,\n\tprevTpl: (options) => `<button type=\"button\" class=\"b-modal__prev-btn ${ModalClasses.PREV_TRIGGER}\">${options.prevIcon}</button>`,\n\tnextTpl: (options) => `<button type=\"button\" class=\"b-modal__next-btn ${ModalClasses.NEXT_TRIGGER}\">${options.nextIcon}</button>`,\n\tloaderTpl: (options) => options.loadIcon,\n\tnavTpl: (items) => items.map((_item, index) => `<span class=\"b-modal__nav-item ${ModalClasses.NAV_TRIGGER}\" data-modal-index=\"${index}\"></span>`).join(''),\n\timageLoader: loadImage,\n\tfetchLoader: loadContent,\n}\n\nconst createModal = (id: number, items: ISKModalItem[], options: ISKModalOptions): ISKModal => {\n\tlet currentIndex = 0;\n\tlet currentItems = [...items];\n\tlet ytAPI = null;\n\tlet vimeoAPI = null;\n\tlet dragX = 0;\n\tlet structurePrepared = false;\n\tlet modalFragments: Partial<IModalFragments> = {};\n\tlet slides: HTMLDivElement[] = [];\n\tlet isOpened: boolean = false;\n\tconst modal = document.createElement('div');\n\tconst emmiter = create({});\n\tconst modalFocusTrap = createFocusTrap(modal);\n\tconst scrollLockOptions: BodyScrollOptions = {\n\t\tallowTouchMove: el => el.isSameNode(modal),\n\t\treserveScrollBarGap: true,\n\t}\n\n\tconst prepareStructure = () => {\n\t\tmodal.innerHTML = '';\n\t\tmodal.setAttribute('id', `modal-${id}`);\n\t\tmodal.setAttribute('class', `b-modal ${options.customWrapperClass || ''}`);\n\t\tmodal.setAttribute('tabindex', '0');\n\t\toptions.parentElement.appendChild(modal);\n\n\t\t// fragments\n\t\tconst header = document.createElement('div');\n\t\tconst titleElem = document.createElement('div');\n\t\tconst descElem = document.createElement('div');\n\t\tconst content = document.createElement('div');\n\t\tconst prevElem = document.createElement('div');\n\t\tconst nextElem = document.createElement('div');\n\t\tconst navElem = document.createElement('div');\n\t\tconst loader = document.createElement('div');\n\t\tconst bg = document.createElement('div');\n\t\tmodalFragments = { header, titleElem, descElem, content, prevElem, nextElem, navElem, loader, bg };\n\n\t\theader.className = `b-modal__header ${ModalClasses.HEADER}`;\n\t\ttitleElem.className = `b-modal__title ${ModalClasses.TITLE}`;\n\t\tdescElem.className = `b-modal__description ${ModalClasses.DESC}`;\n\t\tcontent.className = `b-modal__content ${ModalClasses.CONTENT}`;\n\t\tprevElem.className = `b-modal__prev ${ModalClasses.PREV}`;\n\t\tnextElem.className = `b-modal__next ${ModalClasses.NEXT}`;\n\t\tnavElem.className = `b-modal__nav ${ModalClasses.NAV}`;\n\t\tloader.className = `b-modal__loader ${ModalClasses.LOADER}`;\n\t\tbg.className = `b-modal__bg ${ModalClasses.BG} ${options.closeOnBgClick ? ModalClasses.CLOSE : ''}`;\n\n\t\t// create structure\n\t\toptions.buildStructure(modal, modalFragments as IModalFragments);\n\n\t\t// get slides\n\t\tslides = getSlides(currentItems);\n\n\t\theader.innerHTML = options.headerTpl(options);\n\t\tif (!options.hideNav) {\n\t\t\tprevElem.innerHTML = options.prevTpl(options);\n\t\t\tnextElem.innerHTML = options.nextTpl(options);\n\t\t\tnavElem.innerHTML = currentItems.length > 1 ? options.navTpl(currentItems) : '';\n\t\t}\n\t\tloader.innerHTML = options.loaderTpl(options);\n\n\t\t// bind events\n\t\ton(modal, 'click', close);\n\t\ton(modal, 'click', prev);\n\t\ton(modal, 'click', next);\n\t\ton(modal, 'click', nav);\n\t\ton(modal, 'keydown', handleKeyDown);\n\t\ton(content, 'touchstart', onTouchStart);\n\t\ton(content, 'touchend', onTouchEnd);\n\t\tif (options.onModalOpen) {\n\t\t\temmiter.on('modalOpen', options.onModalOpen);\n\t\t}\n\t\tif (options.onModalClose) {\n\t\t\temmiter.on('modalClose', options.onModalClose);\n\t\t}\n\t\tif (options.onModalContentLoaded) {\n\t\t\temmiter.on('modalContentLoaded', options.onModalContentLoaded);\n\t\t}\n\t\tif (options.onModalSlideChanged) {\n\t\t\temmiter.on('modalSlideChanged', options.onModalSlideChanged);\n\t\t}\n\t}\n\n\tconst getSlides = (items: ISKModalItem[]) => {\n\t\tconst { content } = modalFragments;\n\n\t\tcontent.innerHTML = '';\n\n\t\treturn items.map(() => {\n\t\t\tconst slide = document.createElement('div');\n\t\t\tslide.setAttribute('class', `b-modal__slide ${ModalClasses.SLIDE}`);\n\t\t\tcontent.appendChild(slide);\n\n\t\t\treturn slide;\n\t\t});\n\t};\n\n\tconst iframeLoadHandler = () => {\n\t\temmiter.trigger('modalContentLoaded', null, modalFragments.content);\n\t}\n\n\tconst resolveMedium = (item: ISKModalItem, src: string | string[]): ModalMedium => {\n\t\tlet medium = item.medium;\n\n\t\tif (!src) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (medium) {\n\t\t\treturn medium;\n\t\t}\n\n\t\tif (Array.isArray(src)) {\n\t\t\treturn resolveMedium(item, src[0]);\n\t\t}\n\n\t\tif (mediaRegex.anchor.test(src)) {\n\t\t\treturn ModalMedium.ELEMENT;\n\t\t}\n\n\t\tif (mediaRegex.image.test(src)) {\n\t\t\treturn ModalMedium.IMAGE;\n\t\t}\n\n\t\tif (mediaRegex.video.test(src)) {\n\t\t\treturn ModalMedium.VIDEO;\n\t\t}\n\n\t\tif (mediaRegex.youtube.test(src)) {\n\t\t\treturn ModalMedium.YOUTUBE;\n\t\t}\n\n\t\tif (mediaRegex.vimeo.test(src)) {\n\t\t\treturn ModalMedium.VIMEO;\n\t\t}\n\n\t\tif (src !== '') {\n\t\t\treturn ModalMedium.IFRAME;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tconst getContent = async (item: ISKModalItem): Promise<Node> => {\n\t\tconst { element, url, player } = item;\n\t\tconst src = element ? (element as HTMLAnchorElement).getAttribute('href') : url;\n\t\tconst medium = resolveMedium(item, src);\n\n\t\tif (!medium) {\n\t\t\tconsole.warn(`SKModal: Modal medium type was not resolved. Check if the source is correct. Provided source was '${src}'.`)\n\t\t\treturn null;\n\t\t}\n\n\t\t// image\n\t\tif (medium === ModalMedium.IMAGE) {\n\t\t\tconst imageSources = Array.isArray(src) ? [...src] : [src];\n\t\t\tconst wrapperElement = document.createElement('div');\n\n\t\t\t// for - of is resolving \"await\" in sequence - so we are sure with the order of images\n\t\t\tfor (const source of imageSources) {\n\t\t\t\tconst img = await options.imageLoader(source) as HTMLImageElement;\n\t\t\t\twrapperElement.appendChild(img);\n\n\t\t\t\tif (img.height >= window.innerHeight && imageSources.length === 1) {\n\t\t\t\t\timg.classList.add('is-big');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twrapperElement.classList.add('b-modal__image');\n\n\t\t\tif (imageSources.length > 1) {\n\t\t\t\twrapperElement.classList.add('b-modal__image--multiple');\n\t\t\t}\n\n\t\t\treturn wrapperElement;\n\t\t}\n\n\t\tif (Array.isArray(src)) {\n\t\t\tconsole.warn('SKModal: Multiple urls are allowed only for images!');\n\t\t\treturn null;\n\t\t}\n\n\t\t// existing element in the DOM\n\t\tif (medium === ModalMedium.ELEMENT) {\n\t\t\tconst contentElement = document.querySelector(src);\n\t\t\tconst wrapElement = document.createElement('div');\n\t\t\twrapElement.className = 'b-modal__inner';\n\n\t\t\tif (contentElement) {\n\t\t\t\twrapElement.innerHTML = contentElement.innerHTML + `<button type=\"button\" class=\"b-modal__close ${ModalClasses.CLOSE}\"><span class=\"b-modal__close-text u-vhide\">Close</span>${options.closeIcon}</button>`;\n\t\t\t} else {\n\t\t\t\tconsole.warn(`SKModal: Content element not found. Check if the id is correct. Provided id was '${src}'.`);\n\t\t\t}\n\n\t\t\treturn wrapElement;\n\t\t}\n\n\t\t// content from fetch resonse\n\t\tif (medium === ModalMedium.FETCH) {\n\t\t\tconst contentFetch = await options.fetchLoader(src);\n\t\t\tconst contentElement = document.createElement('div');\n\t\t\tcontentElement.className = 'b-modal__inner';\n\t\t\tcontentElement.innerHTML = contentFetch + `<button type=\"button\" class=\"b-modal__close ${ModalClasses.CLOSE}\"><span class=\"b-modal__close-text u-vhide\">Close</span>${options.closeIcon}</button>`;\n\n\t\t\treturn contentElement;\n\t\t}\n\n\t\t// HTML5 video\n\t\tif (medium === ModalMedium.VIDEO) {\n\t\t\tconst formatMatch = src.match(mediaRegex.video);\n\t\t\tconst format = `video/${formatMatch[1] === 'ogv' ? 'ogg' : formatMatch[1]}`;\n\t\t\tconst wrapperElement = document.createElement('div');\n\t\t\tconst videoSrc = `<video controls autoplay><source src=\"${src}\" type=\"${format}\"></video>`;\n\n\t\t\twrapperElement.classList.add('b-modal__video');\n\t\t\twrapperElement.innerHTML = videoSrc;\n\n\t\t\treturn wrapperElement;\n\t\t}\n\n\t\t// iframe\n\t\tif (medium === ModalMedium.IFRAME) {\n\t\t\tconst iframe = getIframe(src, iframeLoadHandler);\n\t\t\tconst wrapperElement = document.createElement('div');\n\n\t\t\twrapperElement.classList.add('b-modal__iframe');\n\t\t\twrapperElement.appendChild(iframe);\n\n\t\t\treturn wrapperElement;\n\t\t}\n\n\t\t// youtube\n\t\tif (medium === ModalMedium.YOUTUBE) {\n\t\t\tconst urlMatcher = src.match(mediaRegex.youtube);\n\t\t\tconst iframeUrl = `https://www.youtube.com/embed/${urlMatcher[4]}?autoplay=1&autohide=1&fs=1&rel=0&hd=1&wmode=transparent&enablejsapi=1&html5=1`;\n\t\t\tconst iframe = getIframe(iframeUrl, iframeLoadHandler, true);\n\t\t\tconst wrapperElement = document.createElement('div');\n\n\t\t\twrapperElement.classList.add('b-modal__embed');\n\t\t\twrapperElement.appendChild(iframe);\n\n\t\t\tif (!ytAPI) {\n\t\t\t\tytAPI = await loadYoutube();\n\t\t\t}\n\n\t\t\tif (!player) {\n\t\t\t\tconst player = new ytAPI.Player(iframe);\n\t\t\t\titem.player = player;\n\t\t\t}\n\n\t\t\treturn wrapperElement;\n\t\t}\n\n\t\t// vimeo\n\t\tif (medium === ModalMedium.VIMEO) {\n\t\t\tconst urlMatcher = src.match(mediaRegex.vimeo);\n\t\t\tconst iframeUrl = `https://player.vimeo.com/video/${urlMatcher[2]}?autoplay=1&portrait=0`;\n\t\t\tconst iframe = getIframe(iframeUrl, iframeLoadHandler, true);\n\t\t\tconst wrapperElement = document.createElement('div');\n\n\t\t\twrapperElement.classList.add('b-modal__embed');\n\t\t\twrapperElement.appendChild(iframe);\n\n\t\t\tif (!vimeoAPI) {\n\t\t\t\tvimeoAPI = await loadVimeoAPI();\n\t\t\t}\n\n\t\t\tif (!player) {\n\t\t\t\tconst player = new vimeoAPI.Player(iframe);\n\t\t\t\titem.player = player;\n\t\t\t}\n\n\t\t\treturn wrapperElement;\n\t\t}\n\t}\n\n\tconst goTo = async (index: number) => {\n\t\tcurrentIndex = index;\n\t\tconst item = currentItems[index];\n\t\tconst { title, desc, element, url } = item;\n\t\tconst { titleElem, descElem } = modalFragments;\n\n\t\t// toggle nav arrows\n\t\tif (!options.infinite) {\n\t\t\tif (currentIndex === 0) {\n\t\t\t\tmodal.classList.add('is-first');\n\t\t\t} else {\n\t\t\t\tmodal.classList.remove('is-first');\n\t\t\t}\n\n\t\t\tif (currentIndex === currentItems.length - 1) {\n\t\t\t\tmodal.classList.add('is-last');\n\t\t\t} else {\n\t\t\t\tmodal.classList.remove('is-last');\n\t\t\t}\n\t\t}\n\n\t\t// render title and desc\n\t\ttitleElem.innerHTML = title ? options.titleTpl(title) : '';\n\t\tdescElem.innerHTML = desc ? options.descTpl(desc) : '';\n\n\t\t// render content\n\t\tif (!slides[index].classList.contains('is-loaded')) {\n\t\t\tmodal.classList.add('is-loading');\n\n\t\t\tconst content = await getContent(item);\n\n\t\t\tslides[index].appendChild(content);\n\t\t\tmodal.classList.remove('is-loading');\n\t\t\tslides[index].classList.add('is-loaded');\n\t\t}\n\n\t\t// toggle active\n\t\tslides.forEach((slide: HTMLElement, i: number) => {\n\t\t\tslide.classList.remove('is-active');\n\t\t\tconst video = slide.querySelector('video');\n\t\t\tconst player = currentItems[i].player as any;\n\n\t\t\tif (player) {\n\t\t\t\tif (i === currentIndex) {\n\t\t\t\t\tplayer.playVideo ? player.playVideo() : player.play && player.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.pauseVideo ? player.pauseVideo() : player.pause && player.pause();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (i === currentIndex) {\n\t\t\t\tslide.classList.add('is-active');\n\t\t\t\tvideo && video.play();\n\t\t\t} else {\n\t\t\t\tvideo && video.pause();\n\t\t\t}\n\t\t});\n\t\tArray.from(modal.querySelectorAll(`.${ModalClasses.NAV_TRIGGER}`)).forEach(\n\t\t\t(navItem, i) => {\n\t\t\t\tif (i === currentIndex) {\n\t\t\t\t\tnavItem.classList.add('is-active');\n\t\t\t\t} else {\n\t\t\t\t\tnavItem.classList.remove('is-active');\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t// trigger content loaded\n\t\tconst src = element ? (element as HTMLAnchorElement).getAttribute('href') : url;\n\t\tconst medium = resolveMedium(item, src);\n\n\t\tif (medium && medium !== ModalMedium.IFRAME && medium !== ModalMedium.VIMEO && medium !== ModalMedium.YOUTUBE) {\n\t\t\temmiter.trigger('modalContentLoaded', null, modalFragments.content);\n\t\t\tmodalFocusTrap.activate();\n\t\t}\n\n\t\temmiter.trigger('modalSlideChanged', { page: currentIndex + 1 });\n\t}\n\n\tconst prev = delegate(`.${ModalClasses.PREV_TRIGGER}`, () => {\n\t\tif (options.hideNav) return;\n\n\t\tlet prevIndex = currentIndex - 1;\n\n\t\tif (prevIndex < 0 && options.infinite) {\n\t\t\tprevIndex = currentItems.length - 1;\n\t\t} else if (prevIndex < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tgoTo(prevIndex);\n\t})\n\n\tconst next = delegate(`.${ModalClasses.NEXT_TRIGGER}`, () => {\n\t\tif (options.hideNav) return;\n\n\t\tlet nextIndex = currentIndex + 1;\n\n\t\tif (nextIndex > currentItems.length - 1 && options.infinite) {\n\t\t\tnextIndex = 0;\n\t\t} else if (nextIndex > currentItems.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tgoTo(nextIndex);\n\t})\n\n\tconst nav = delegate(`.${ModalClasses.NAV_TRIGGER}`, (event: MouseEvent) => {\n\t\tconst index = (event.target as HTMLElement).dataset.modalIndex;\n\t\tif (index) {\n\t\t\tgoTo(parseInt(index));\n\t\t}\n\t})\n\n\tconst open = (index: number, event?: MouseEvent) => {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (!structurePrepared) {\n\t\t\tprepareStructure();\n\t\t\tstructurePrepared = true;\n\t\t}\n\n\t\tmodal.classList.add('is-opened');\n\t\tgoTo(index);\n\n\t\tdisableBodyScroll(modal, scrollLockOptions);\n\t\ttoggleScrollbarGap();\n\t\temmiter.trigger('modalOpen');\n\t\tisOpened = true;\n\t}\n\n\tconst close = delegate(options.closeSelector, (event?: MouseEvent) => {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tmodal.classList.remove('is-opened');\n\t\tisOpened = false;\n\t\tslides.forEach((slide: HTMLElement, i: number) => {\n\t\t\tconst video = slide.querySelector('video');\n\t\t\tconst player = currentItems[i].player as any;\n\n\t\t\tif (player) {\n\t\t\t\tplayer.pauseVideo ? player.pauseVideo() : player.pause && player.pause();\n\t\t\t}\n\n\t\t\tif (video) {\n\t\t\t\tvideo.pause();\n\t\t\t}\n\t\t});\n\t\tmodalFocusTrap.deactivate();\n\t\tenableBodyScroll(modal);\n\t\ttoggleScrollbarGap(false);\n\t\temmiter.trigger('modalClose');\n\t\tif (options.removeOnClose) {\n\t\t\tmodals[id].element.remove();\n\t\t\tstructurePrepared = false;\n\t\t}\n\t})\n\n\tconst redraw = (newItems: ISKModalItem[], skipGoTo?: boolean) => {\n\t\tconst { navElem } = modalFragments;\n\n\t\tif (options.plugins && options.plugins.length) {\n\t\t\toptions.plugins.forEach((plugin) => plugin.reInitOnRedraw && plugin.destroy(modals[id]));\n\t\t}\n\n\t\tcurrentItems = [...newItems];\n\t\tmodals[id].items = currentItems;\n\t\tslides = getSlides(newItems);\n\t\tnavElem.innerHTML = newItems.length > 1 ? options.navTpl(newItems) : '';\n\n\t\tif (options.plugins && options.plugins.length) {\n\t\t\toptions.plugins.forEach((plugin) => plugin.reInitOnRedraw && plugin.init(modals[id]));\n\t\t}\n\n\t\tif (skipGoTo) return;\n\n\t\tgoTo(newItems[currentIndex] ? currentIndex : 0);\n\t}\n\n\tconst getIndex = () => currentIndex;\n\n\tconst handleKeyDown = (event: KeyboardEvent): void => {\n\t\tswitch (event.keyCode) {\n\t\t\t// navigate\n\t\t\tcase KeyCodes.ARR_LEFT:\n\t\t\tcase KeyCodes.ARR_UP:\n\t\t\t\tprev();\n\t\t\t\tbreak;\n\t\t\tcase KeyCodes.ARR_RIGHT:\n\t\t\tcase KeyCodes.ARR_DOWN:\n\t\t\t\tnext();\n\t\t\t\tbreak;\n\n\t\t\t// close\n\t\t\tcase KeyCodes.ESC:\n\t\t\t\tclose(event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst onTouchStart = (event: TouchEvent): void => {\n\t\tdragX = event.changedTouches[0].clientX;\n\t}\n\n\tconst onTouchEnd = (event: TouchEvent): void => {\n\t\tif (!dragX) return;\n\n\t\tconst dx = event.changedTouches[0].clientX - dragX;\n\n\t\tif (Math.abs(dx) >= 20) {\n\t\t\tdx < 0 ? next() : prev();\n\t\t}\n\t}\n\n\tconst destroy = () => {\n\t\tconst { content } = modalFragments;\n\n\t\t// unbind events\n\t\toff(modal, 'click', close);\n\t\toff(modal, 'click', prev);\n\t\toff(modal, 'click', next);\n\t\toff(modal, 'click', nav);\n\t\toff(modal, 'keydown', handleKeyDown);\n\t\toff(content, 'touchstart', onTouchStart);\n\t\toff(content, 'touchend', onTouchEnd);\n\t\temmiter.off();\n\n\t\t// unbind modal items click\n\t\titems.forEach((item) => {\n\t\t\tif (item.clickHandler) {\n\t\t\t\toff(item.element, 'click', item.clickHandler);\n\t\t\t}\n\t\t});\n\n\t\t// destroy plugins\n\t\tif (options.plugins && options.plugins.length) {\n\t\t\toptions.plugins.forEach((plugin) => plugin.destroy && plugin.destroy(modals[id]));\n\t\t}\n\n\t\t// delete modal\n\t\tmodals[id].element.remove();\n\t\tmodals.splice(id, 1);\n\t}\n\n\t// bind modal items click\n\titems.forEach((item, index) => {\n\t\tconst { element } = item;\n\n\t\tif (element) {\n\t\t\titem.clickHandler = (event: MouseEvent) => open(index, event);\n\t\t\ton(element, 'click', item.clickHandler);\n\t\t}\n\t});\n\n\tconst modalInstance: ISKModal = {\n\t\toptions,\n\t\temmiter,\n\t\tcontext: options.context,\n\t\telement: modal,\n\t\tfragments: modalFragments as IModalFragments,\n\t\titems,\n\t\tisOpened,\n\t\tmethods: {\n\t\t\topen,\n\t\t\tclose,\n\t\t\tprev,\n\t\t\tnext,\n\t\t\tgoTo,\n\t\t\tredraw,\n\t\t\tgetIndex,\n\t\t\tdestroy,\n\t\t}\n\t}\n\n\t// init plugins\n\tif (options.plugins && options.plugins.length) {\n\t\toptions.plugins.forEach((plugin) => plugin.init(modalInstance));\n\t}\n\n\treturn modalInstance;\n}\n\nexport const initModal = (opts: ISKModalOptions, modalItems?: ISKModalItem[]): ISKModal[] => {\n\tconst options: ISKModalOptions = { ...defaultOpts, ...opts };\n\tconst { context } = options;\n\tlet items: ISKModalItem[] = [];\n\n\tif (context) {\n\t\tconst elements = Array.from(context.querySelectorAll(modalSelector));\n\t\titems = elements.map((element) => ({ element, ...JSON.parse((element as HTMLElement).dataset.modal || '{}') }));\n\t}\n\n\tif (modalItems) {\n\t\titems = modalItems;\n\t}\n\n\tconst galleries: ISKModalGallery = items.reduce((acc, item) => {\n\t\tconst { gallery = 'default' } = item;\n\t\tif (acc[gallery]) {\n\t\t\tacc[gallery].push(item);\n\t\t} else {\n\t\t\tacc[gallery] = [item];\n\t\t}\n\n\t\treturn acc;\n\t}, {} as ISKModalGallery);\n\n\tObject.keys(galleries).forEach((gallery) => {\n\t\tconst modalOptions = { ...options };\n\t\tif (gallery === 'default') {\n\t\t\tmodalOptions.hideNav = true;\n\t\t}\n\n\t\tmodals.push(createModal(modals.length, galleries[gallery], modalOptions));\n\t});\n\n\treturn modals;\n}\n","import { IModalFragments } from \"./SKModal\";\n\nexport enum ModalClasses {\n\tHEADER = 'js-modal-header',\n\tTITLE = 'js-modal-title',\n\tTITLE_TEXT = 'js-modal-title-text',\n\tDESC = 'js-modal-desc',\n\tDESC_TEXT = 'js-modal-desc-text',\n\tCONTENT = 'js-modal-content',\n\tPREV = 'js-modal-prev',\n\tNEXT = 'js-modal-next',\n\tNAV = 'js-modal-nav',\n\tLOADER = 'js-modal-loader',\n\tBG = 'js-modal-bg',\n\tCLOSE = 'js-modal-close',\n\tSLIDE = 'js-modal-slide',\n\tPREV_TRIGGER = 'js-modal-prev-trigger',\n\tNEXT_TRIGGER = 'js-modal-next-trigger',\n\tNAV_TRIGGER = 'js-modal-nav-trigger',\n\tIFRAME = 'js-modal-iframe',\n}\n\nexport enum ModalMedium {\n\tIMAGE = 'image',\n\tVIDEO = 'video',\n\tYOUTUBE = 'youtube',\n\tVIMEO = 'vimeo',\n\tELEMENT = 'element',\n\tFETCH = 'fetch',\n\tIFRAME = 'iframe',\n}\n\nexport const modalSelector: string = '[data-modal]';\n\nexport const mediaRegex = {\n\tanchor: /^\\#(.+)/,\n\timage: /(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i,\n\tvideo: /\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i,\n\tyoutube: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\tvimeo: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/i,\n}\n\nexport const buildStructure: (modal: Element, fragments: IModalFragments) => void = (modal, {\n\theader,\n\ttitleElem,\n\tdescElem,\n\tcontent,\n\tprevElem,\n\tnextElem,\n\tnavElem,\n\tloader,\n\tbg,\n}) => {\n\tmodal.appendChild(header);\n\tmodal.appendChild(titleElem);\n\tmodal.appendChild(descElem);\n\tmodal.appendChild(content);\n\tmodal.appendChild(prevElem);\n\tmodal.appendChild(nextElem);\n\tmodal.appendChild(navElem);\n\tmodal.appendChild(loader);\n\tmodal.appendChild(bg);\n}\n\nexport enum KeyCodes {\n\tARR_LEFT = 37,\n\tARR_RIGHT = 39,\n\tARR_UP = 38,\n\tARR_DOWN = 40,\n\tESC = 27,\n}\n","export const init = () => {\n\tconst trigger = document.querySelectorAll('.m-main__tool');\n\tvar targetMenu = document.querySelectorAll('body');\n\tlet menuOpenStatus = false;\n\n\tconst menuOpen = function(target) {\n\t\tmenuOpenStatus = !menuOpenStatus;\n\n\t\tif (menuOpenStatus) {\n\t\t\ttarget[0].classList.add('menu-open');\n\t\t} else {\n\t\t\ttarget[0].classList.remove('menu-open');\n\t\t}\n\t};\n\n\ttrigger[0].addEventListener('click', function(event) {\n\t\tevent.preventDefault();\n\t\tmenuOpen(targetMenu);\n\t});\n};\n","import { emmitModalAction } from './modalPlugins/emmitModalAction';\nimport { initModal } from './SKModal';\n\nconst options = {\n\tcloseOnBgClick: true,\n\tremoveOnClose: true,\n\tplugins: [ emmitModalAction ],\n\tonModalContentLoaded: function() {\n\t\tApp.trigger('contentload', { element: this });\n\t},\n};\n\nexport const init = (context) => {\n\tApp.modals = initModal({ context: context || document, ...options });\n};\n","export const emmitModalAction = {\n\tinit: (modal) => {\n\t\tApp.on('modalAction', (_event, { action, content }) => {\n\t\t\tif (!action || !modal.isOpened) return;\n\n\t\t\tif (action === 'close') {\n\t\t\t\tmodal.methods.close();\n\t\t\t} else if (action === 'updateContent' && content && typeof content === 'string') {\n\t\t\t\tmodal.fragments.content.innerHTML = content;\n\t\t\t\tApp.trigger('contentload', { element: modal.fragments.content });\n\t\t\t}\n\t\t});\n\t}\n}\n","export const init = (context) => {\n\tconst videos = Array.from(context.querySelectorAll('.b-video__video'));\n\n\tif (videos.length) {\n\t\tvideos.forEach((video) => {\n\t\t\tvar elementId = video.id;\n\t\t\tvar videoUrl = video.dataset.video;\n\t\t\tvar videoPoster = video.dataset.poster;\n\t\t\tvar videoTitle = video.dataset.title;\n\n\t\t\tvar src = {\n\t\t\t\thls: videoUrl,\n\t\t\t};\n\t\t\tvar settings = {\n\t\t\t\t// licenseKey: 'Kl8ldWVvNzhrPWNzZD0yNzk/cm9tNWRhc2lzMzBkYjBBJV8q',\n\t\t\t\tlicenseKey: 'Kl8ldWVvNzhrPTMwYTJpc2t6MDdvdj1pMnkxP3JvbTVkYXNpczMwZGIwQSVfKg==',\n\t\t\t\tsrc: src,\n\t\t\t\twidth: 640,\n\t\t\t\theight: 360,\n\t\t\t\tskin: 's1',\n\t\t\t\tquickRewind: 10,\n\t\t\t\tsharing: true,\n\t\t\t\tcontentMetadata: {\n\t\t\t\t\ttitle: videoTitle,\n\t\t\t\t\tposter: [videoPoster],\n\t\t\t\t},\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tvar rmp = new RadiantMP(elementId);\n\t\t\trmp.init(settings);\n\t\t});\n\t}\n};\n","import loadScript from \"@superkoders/sk-tools/src/loadScript\";\n\nlet api: Promise<any> = null;\n\nexport default (): Promise<any> => {\n\tif (api) return api;\n\n\tapi = new Promise((resolve, reject) => {\n\t\tloadScript('https://player.vimeo.com/api/player.js').then(() => resolve(window.Vimeo)).catch(reject);\n\t});\n\n\treturn api;\n};\n"],"sourceRoot":""}